<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- <meta charset="UTF-8"> -->
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Motion Controller</title>
        

        <style>
            .imgbox {
                display: grid;
                height: 100%;
            }
            .center-fit {
                max-width: 80%;
                max-height: 100vh;
                padding-top: 5%;
                padding-bottom: 5%;
                margin: auto;
            }
            .button {
                border: none;
                color: white;
                padding: 60px 16px;
                width: 100%;
                text-align: center;
                text-decoration: none;
                display: block;
                font-size: 36px;
                margin: auto;
                background-color: #008CBA;
            }
        </style>

        <!-- jQuery CDN minified -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

        <!-- BootStrap CDN -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
        
        <!-- Firebase CDN -->
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-database.js"></script>
        <!-- <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-firestore.js"></script> -->

        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->

        <!-- Websocket connection, Firebase database config and management -->
        <script type="text/javascript" src="helper.js"></script>

    </head>
    <body>
        <div class="imgbox">
            <img src="LOGO.jpg" alt="LOGO" class="center-fit">
        </div>

        <!-- login form -->
        <hr>
        <div class="container" id="signin-form">
            <div class="card card-body"><form>
                <div class="mb-3">
                  <label for="inputEmail" class="form-label">Email address</label>
                  <input type="email" class="form-control" id="inputEmail" aria-describedby="emailHelp">
                </div>
                <div class="mb-3">
                  <label for="inputPassword" class="form-label">Password</label>
                  <input type="password" class="form-control" id="inputPassword">
                </div>
                <div class="d-grid gap-2">
                    <button type="button" id="signin-button" class="btn btn-primary" onclick="SigninUser($('#inputEmail').val(), $('#inputPassword').val())">
                        Sign in
                    </button>
                    <button type="button" id="google-signin-button" class="btn btn-info" onclick="GoogleSignin()">
                        Sign in with Google
                    </button>
                    <button type="button" id="show-register-button" class="btn btn-warning"
                        onclick=" $('#signin-form').addClass('d-none'); $('#registration-form').removeClass('d-none'); ">
                        Create new account
                    </button>
                  </div>
              </form>
            </div>
        </div>

        <!-- register form -->
        <div class="container d-none" id="registration-form">
            <div class="card card-body"><form>
                <div class="mb-3">
                  <label for="inputRegEmail" class="form-label">Email address</label>
                  <input type="email" class="form-control" id="inputRegEmail" aria-describedby="emailHelp">
                </div>
                <div class="mb-3">
                  <label for="inputRegPassword" class="form-label">Password</label>
                  <input type="password" class="form-control" id="inputRegPassword">
                </div>
                <div class="mb-3">
                  <label for="confirmRegPassword" class="form-label">Confirm Password</label>
                  <input type="password" class="form-control" id="confirmRegPassword">
                </div>
                <!-- <div class="mb-3 form-check">
                  <input type="checkbox" class="form-check-input" id="exampleCheck1">
                  <label class="form-check-label" for="exampleCheck1">Check me out</label>
                </div> -->
                <div class="d-grid gap-2">
                    <button type="button" id="register-button" class="btn btn-warning" 
                        onclick="RegisterUser($('#inputRegEmail').val(), $('#inputRegPassword').val(), $('#confirmRegPassword').val())">
                        Create new account
                    </button>
                    <button type="button" id="hide-register-button" class="btn btn-primary" 
                        onclick=" $('#signin-form').removeClass('d-none'); $('#registration-form').addClass('d-none'); ">
                        Already have an account?
                    </button>
                  </div>
              </form>
            </div>
        </div>

        <!-- logout button -->
        <div class="container d-none" id="signout-form">
            <div class="d-grid gap-2">
                <H2 id="welcome-text">
                    Hi, anonymous user.
                </H2>
                <button id="signout-button" type="button" class="btn btn-primary" onclick="SignOut()">
                    Sign out
                </button>
            </div>
        </div>

        <!-- instruction -->
        <hr>
        <div class="container">
            <p>Point your phone towards the computer screen and tap on the button below:</p>
            <div class="d-grid gap-2">
                <button id="start-game-button" class="btn btn-primary btn-lg" onclick="getAccel()">
                    Start game!
                </button>
            </div>
        </div>
        
        <!-- song list -->
        <hr>
        <div class='container d-none' id='song-list'>
            <H2>
                Song list
            </H2>
            <table class='table table-striped overflow-scroll' id="listOfMusic">
                <thead>
                  <tr>
                    <th scope="col">Title</th>
                    <th scope="col">Author</th>
                    <th scope="col">Difficulty</th>
                    <th scope="col">Select</th>
                  </tr>
                </thead>
            </table>
        </div>

        <!-- dashboard -->
        <hr>
        <div class="container" id='dashboard'>
            <h2>Dashboard</h2>
            <div class="card">
                <div class="card-body">
                  <h4 class="card-title">Music name</h5>
                  <p class="card-text">
                      <strong>Score: ****</strong><br>
                      Perfect: *** Good: *** Miss: ***
                    </p>
                  <h6 class="card-subtitle mb-2 text-muted">you played at 13/07/2021 10:02</h6>
                  <a href="#" class="card-link">View music</a>
                  <!-- <a href="#" class="card-link">View </a> -->
                </div>
            </div>
            

        </div>

        <!-- testing -->
        <hr>
        <div class="container">
            <p>testing database functions</p>
            <div class="d-grid gap-2">
                <button class="btn btn-primary btn-lg" onclick="newScore(123, 123123, 3230, '2021-7-7T09:47:30')">
                    random new score
                </button>
            </div>
        </div>

        <hr>
        <div class="container">
            <p>testing database functions</p>
            <div class="d-grid gap-2">
                <button class="btn btn-primary btn-lg" onclick="createMusicDatabase()">
                    create music database
                </button>
            </div>
        </div>

        <hr>
        <div class="container">
            <p>testing communication</p>
            <div class="d-grid gap-2">
                <button class="btn btn-primary btn-lg" onclick="ws.send('test information')">
                    test communication
                </button>
            </div>
        </div>
    </body>
    
</html>